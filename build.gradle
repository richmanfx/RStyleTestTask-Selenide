group 'ru.r5am'
version '0.1.0'

apply plugin: 'java'

sourceCompatibility = 1.8
aspectjVersion=1.8.0
allureVersion=1.4.0.RC4


repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    compile     'com.codeborne:selenide:4.0'
//  compile     'com.codeborne:selenide:3.11'
    testCompile 'org.testng:testng:6.9.12'
//    testCompile group: 'junit', name: 'junit', version: '4.11'

    // For Alure
    agent "org.aspectj:aspectjweaver:${aspectjVersion}"
    testCompile "ru.yandex.qatools.allure:allure-testng-adaptor:${allureVersion}"
}


test {
    useTestNG()
//    systemProperties['browser'] = 'chrome'
//    systemProperties['webdriver.chrome.driver'] = 'src/main/resources/web_drivers/chromedriver.exe'
//    maxParallelForks = 3

//    compileOptions.encoding = 'windows-1251'
}

// For Allure
configurations {
    agent
}

test.doFirst {
    jvmArgs "-javaagent:${configurations.agent.singleFile}"
}


